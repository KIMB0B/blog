---
title: 12. í•„ë“œ ì£¼ì…ì„ ë” ë” í¸í•˜ê²Œ! ë¡¬ë³µ(Lombok)
date: 2024-03-12T14:38:00
---
ì•ˆë…•í•˜ì„¸ìš”!

ì§€ë‚œ ì‹œê°„ì— @Autowiredë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…í•´ ë´¤ëŠ”ë°ìš”!
í•˜ë‹¤ ë³´ë©´ì„œ ë“œëŠ” ìƒê°ì€ ì–´ì°¨í”¼ ì˜ì¡´ê´€ê³„ ì£¼ì…í•  í•„ë“œëŠ” ë‹¤ finalì„ ì“¸ ê±°ê³ , ë‹¤ ìƒì„±ì ë§Œë“¤ì–´ì„œ @Autowired í•´ì¤„ ê±´ë° ì—„ì²­ ë°˜ë³µì ì´ë©´ì„œ ì½”ë“œ ê¸¸ì´ë§Œ ëŠ˜ë¦¬ëŠ” ì‘ì—…ì¸ ê²ƒ ê°™ì•„ìš”.

ì €ë§Œ ì´ëŸ° ìƒê°ì„ í•œ ê²ƒì€ ì•„ë‹Œê°€ ë´ìš”! ë‹¤ë¥¸ ì—„ì²­ ë˜‘ë˜‘í•œ ê°œë°œìë“¤ì´ ì´ë¥¼ ë”ìš±ë” ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ì¤„ ì—„ì²­ë‚œ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ëƒˆëŠ”ë°ìš”. ë°”ë¡œ ë¡¬ë³µì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤!

![](https://blog.kakaocdn.net/dn/1bKQe/btsFJIkn9Ct/RJoFtYXYcrv4WLQIIu2oJ1/img.png)

(Lombok Project (ê³ ì¶”..ì¸ê°€?))

ë¡¬ë³µì„ ì‚¬ìš©í•˜ë©´ì„œ ì–´ë–»ê²Œ ë” ê°„ë‹¨í•˜ê²Œ ì‘ì—…ì„ í•  ìˆ˜ ìˆê²Œ ë˜ëŠ”ì§€Â  ì•Œì•„ë´…ì‹œë‹¤!

[[11. ì˜ì¡´ê´€ê³„ë„ ì•Œì•„ì„œ í•´ì¤˜! Autowired|ğŸ‘‰ì´ì „ ê¸€ ë³´ëŸ¬ê°€ê¸°]]

---
# ë¡¬ë³µ ì´ˆê¸°ì„¤ì •

ë¡¬ë³µì€ ê¸°ë³¸ ê¸°ëŠ¥ì´ ì•„ë‹Œ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ê¸° ë•Œë¬¸ì— ì„¤ì •ì„ í•´ ì¤„ ê²Œ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡  ìš°ë¦¬ëŠ” ì¼ì • ë¶€ë¶„ ì´ë¯¸ ë˜ì–´ìˆì§€ë§Œ ì–´ë–¤ ì„¤ì •ë“¤ì´ ë¡¬ë³µ ì„¤ì •ì¸ì§€í™•ì¸í•´ ë´…ì‹œë‹¤.

## Gradle ì„¤ì •

build.gradleë¡œ ë“¤ì–´ê°€ ì¤ì‹œë‹¤!

![](https://blog.kakaocdn.net/dn/vaSFj/btsFGjGCtvR/SkaHwZt8uCEgMI5nGGOZSK/img.png)

ì„¤ì •ì„ ë³´ê²Œ ë˜ë©´ ì•„ë˜ ë‘ ë¶€ë¶„ì´ ë¡¬ë³µê³¼ ê´€ë ¨ëœ ì„¤ì •ì…ë‹ˆë‹¤.

```java
...
configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}
...
dependencies {
	...
    compileOnly 'org.projectlombok:lombok'
	annotationProcessor 'org.projectlombok:lombok'
    
    // ì´ ë¶€ë¶„ì€ ì¶”ê°€ë¡œ ì‘ì„±
    testCompileOnly 'org.projectlombok:lombok'
    testAnnotationProcessor 'org.projectlombok:lombok'
    // ì—¬ê¸°ê¹Œì§€
	...
}
...
```

ìš°ë¦¬ê°€ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ì„œ ë¡¬ë³µ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë˜ ê²ƒì„ ê¸°ì–µí•˜ì‹¤ ë¶„ì´ ì•„ë§ˆ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì¶”ê°€ê°€ ë˜ì–´ ìˆê³ , testì—ì„œë„ ë¡¬ë³µì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì£¼ì„ ì‚¬ì´ì— ìˆëŠ” ì € ë‘ì¤„ë„ ì¶”ê°€ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”.

ê·¸ë¦¬ê³  ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ìš°ì¸¡ ìœ„ì— ìˆëŠ” ì½”ë¼ë¦¬ë¥¼ í´ë¦­í•´ ì£¼ì„¸ìš”!

![](https://blog.kakaocdn.net/dn/bcMp4q/btsFHmWKiqX/tXKEF2YrvgqevAu9o1ZJJ1/img.png)

## Plugin ì„¤ì •

ê·¸ë¦¬ê³  í”ŒëŸ¬ê·¸ì¸ì„ í•˜ë‚˜ ì„¤ì¹˜í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. Ctrl+Alt+Së¥¼ ëˆŒëŸ¬ ì„¤ì •ì°½ì— ë“¤ì–´ì˜¤ì‹  í›„ ì™¼ìª½ ë©”ë‰´ë“¤ ì¤‘ Pluginsì— ë“¤ì–´ì˜µì‹œë‹¤.

Marketplaceì—ì„œ Lombokì„ ê²€ìƒ‰í•˜ì‹  í›„ Install í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

![](https://blog.kakaocdn.net/dn/bnUAXP/btsFGDLAVHX/3oNKkDHNXjv9VJvYSZNIkk/img.png)

## IntelliJ ì„¤ì •

Â ë§ˆì§€ë§‰ìœ¼ë¡œ í•˜ë‚˜ ë” ì„¤ì •í•´ ì¤„ê²Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤. í˜„ì¬ ì´ Settingsì°½ì˜ ì™¼ìª½ì— ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì€ ê²½ë¡œë¡œ ë“¤ì–´ì™€ ì¤ë‹ˆë‹¤.

![](https://blog.kakaocdn.net/dn/c1OTTX/btsFHmWLlzH/etH2RrCqltzfvDwbevZiFk/img.png)

ê·¸ë¦¬ê³  ì˜¤ë¥¸ìª½ ë¶€ë¶„ ë§¨ ìœ„ Enable annotation processingì„ ì²´í¬í•´ ì£¼ì‹œê³  OK!

![](https://blog.kakaocdn.net/dn/bawlaU/btsFGMuCWSO/ke4dpmFn0J4U34kgfM76j1/img.png)

ê·¸ í›„ IntelliJë¥¼ í•œë²ˆ ê»ë‹¤ê°€ ì¼œë´…ì‹œë‹¤.

---
# @RequiredArgsConstructor ì ìš©

ì´ì œ í•œë²ˆ ì¨ë´ì•¼ê² ì£ ? ì €í¬ê°€ ì˜ì¡´ì„± ì£¼ì…ì„ í–ˆë˜ MemberServiceImpl, OrderServiceImplì—ì„œ ì˜ì¡´ì„± ì£¼ì…ì„ ë” ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ë´…ì‹œë‹¤.

```java
package com.naver.shopping.order;

import com.naver.shopping.member.Member;
import com.naver.shopping.member.MemberRepository;
import com.naver.shopping.discount.DiscountPolicy;
import lombok.RequiredArgsConstructor;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
@RequiredArgsConstructor // <-- ì¶”ê°€ë¨
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;
    
    // ìƒì„±ì ì‚¬ë¼ì§

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    public MemberRepository getMemberRepository() {
        return memberRepository;
    }
}
```
(MemberServiceImplì€ ì§ì ‘ í•œë²ˆ ì ìš©í•´ ë³´ì„¸ìš”!)

@RequiredArgsConstructor ì–´ë…¸í…Œì´ì…˜ í•˜ë‚˜ë¥¼ ì¼ë‹¤ê³  ì´ë ‡ê²Œë‚˜ ê°„ê²°í•´ì§€ë‹¤ë‹ˆ!!
rgsConstructorë¥¼ ì“°ê²Œ ë˜ë©´ finalì´ ë¶™ì€ í•„ë“œëŠ” ë¡¬ë³µì´ ìë™ìœ¼ë¡œ ìƒì„±ìë¥¼ ë§Œë“¤ì–´ì£¼ê¸° ë•Œë¬¸ì— ì €í¬ê°€ êµ³ì´ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

---
# @Getterì™€ @Setter

ì–˜ë“¤ì€ ì´ë¦„ ê·¸ëŒ€ë¡œ ì €í¬ê°€ Getterì™€ Setterë¥¼ ì½”ë“œì— ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ë¡¬ë³µì´ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ê¸° ë•Œë¬¸ì— ì–˜ë„ ì½”ë“œê°€ ì—„ì²­ ê°„ê²°í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Member í´ë˜ìŠ¤ì—ì„œ í•œë²ˆ ì ìš©í•´ë³¼ê¹Œ ì£ ?

<ì´ì „>
```java
package com.naver.shopping.member;

public class Member {
    private Long id;
    private String name;
    private Grade grade;

    public Member(Long id, String name, Grade grade) {
        this.id = id;
        this.name = name;
        this.grade = grade;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Grade getGrade() {
        return grade;
    }

    public void setGrade(Grade grade) {
        this.grade = grade;
    }
}
```

<ì´í›„>
```java
package com.naver.shopping.member;

import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
public class Member {
    private Long id;
    private String name;
    private Grade grade;

    public Member(Long id, String name, Grade grade) {
        this.id = id;
        this.name = name;
        this.grade = grade;
    }
}
```
(Order í´ë˜ìŠ¤ì—ë„ ì ìš©í•´ ë³´ì„¸ìš”! OrderëŠ” Setterì ìš©ì€ í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.)

ì—„ì²­ ê°„ê²°í•´ì¡Œì£ ?Â 
ì´ ì™¸ì—ë„ ë¡¬ë³µì´ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ë“¤ì´ ë§ìœ¼ë‹ˆ ê´€ì‹¬ ìˆìœ¼ì‹  ë¶„ë“¤ì€ ê³µì‹ ì‚¬ì´íŠ¸ë¥¼ ì°¸ì¡°í•´ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”!

[Project Lombok ê³µì‹ ì‚¬ì´íŠ¸](https://projectlombok.org/)

---
# ì¶”ê°€) ë¹ˆì´ ì—¬ëŸ¬ ê°œì¼ ë•Œ ë‹¤ ê°€ì ¸ì˜¤ëŠ” ë²•

ì§€ë‚œ ì‹œê°„ì— ë¹ˆì„ ì¡°íšŒí•´ì„œ í•´ë‹¹ íƒ€ì…ì˜ ë¹ˆì´ ì—¬ëŸ¬ ê°œë©´ í•œ ê°œë§Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ë“œë ¸ëŠ”ë°ìš”, ê·¼ë° ë§Œì•½ ë‹¤ í•„ìš”í•˜ë‹¤ë©´? ì˜ˆë¥¼ ë“¤ì–´ ì €í¬ í”„ë¡œì íŠ¸ì˜ ê²½ìš° ì–´ëŠ ë¶€ë¶„ì—ì„œëŠ” ì •ë¥ , ì–´ëŠë¶€ë¶„ì—ì„œëŠ” ë¹„ìœ¨ í• ì¸ ì •ì±…ì„ ë‘˜ ë‹¤ ì¨ì•¼ í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ì§€ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

autoScanTestë¡œ ë‹¤ì‹œ ëŒì•„ê°€ë´…ì‹œë‹¤.

```java
    @Component
    static class OrderService3{
        private MemberRepository memberRepository;
        private Map<String, DiscountPolicy> discountPolicyMap;

        @Autowired
        public OrderService3(MemberRepository memberRepository, Map<String, DiscountPolicy> discountPolicyMap) {
            this.memberRepository = memberRepository;
            this.discountPolicyMap = discountPolicyMap;
        }

        public Order createOrder(Long memberId, String itemName, int itemPrice, String policyName) {
            Member member = memberRepository.findById(memberId);
            DiscountPolicy discountPolicy = discountPolicyMap.get(policyName);
            int discountPrice = discountPolicy.discount(member, itemPrice);
            return new Order(memberId, itemName, itemPrice, discountPrice);
        }
    }
```

ìœ„ì™€ ê°™ì´ OrderService3ë„ ì•„ë˜ì— ì¶”ê°€í•´ ì¤ì‹œë‹¤. createOrder()ì˜ ì¸ìê°’ì—ì„œ ì¶”ê°€ë¥¼ í•´ì•¼ í•´ì„œ í¸ì˜ìƒ OrderServiceë¥¼ implements í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

OrderService3ì—ì„œ ë°”ë€ ê²ƒì€ discountPolicyë¥¼ ê·¸ëŒ€ë¡œ ë°›ëŠ” ê²Œ ì•„ë‹ˆë¼ DiscountPolicyë“¤ì„ Mapí˜•ëŒ€ë¡œ ë°›ëŠ”ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ê·¸ë¦¬ê³  createOrderë¡œ ì£¼ë¬¸ì„ í•  ë•Œ, í•´ë‹¹ ì£¼ë¬¸ì´ ì ìš©ë  í• ì¸ ì •ì±…ì„ ì…ë ¥ë°›ì•„ì„œ ê·¸ ì •ì±…ì— ë§ê²Œ ì£¼ë¬¸ì— ë”°ë¼ ë°”ê¿€ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ë°”ë¡œ í•œë²ˆ ì¨ë´…ì‹œë‹¤!

```java
    @Test
    @DisplayName("ì—¬ëŸ¬ í• ì¸ ì •ì±… ì„œë¹„ìŠ¤ì¤‘ ì„ íƒ")
    void getAllDiscountPolicy() {
        Member testMember = new Member(1L, "tester", Grade.VIP);
        ac.getBean(MemberService.class).join(testMember);

        Order fixServiceOrder = ac.getBean(OrderService3.class).createOrder(1L, "ì•„ì´í…œ1", 20000, "fixDiscountPolicy");
        Order rateServiceOrder = ac.getBean(OrderService3.class).createOrder(1L, "ì•„ì´í…œ1", 20000, "rateDiscountPolicy");

        System.out.println("fixServiceOrder = " + fixServiceOrder);
        System.out.println("rateServiceOrder = " + rateServiceOrder);

        Assertions.assertThat(fixServiceOrder.getDiscountPrice()).isEqualTo(1000);
        Assertions.assertThat(rateServiceOrder.getDiscountPrice()).isEqualTo(2000);
    }
```

createOrderì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì— ì—¬ëŸ¬ ê°œ ì¡íŒ DiscountPolicyíƒ€ì…ì˜ ë¹ˆ ì¤‘ ì›í•˜ëŠ” ë¹ˆì˜ ì´ë¦„ì„ ë„£ì–´ì£¼ë©´ í•´ë‹¹ ì •ì±…ìœ¼ë¡œ í• ì¸ì´ ë  ê²ƒì…ë‹ˆë‹¤.

**ì‹¤í–‰ ê²°ê³¼**

![](https://blog.kakaocdn.net/dn/cMYeTk/btsFGpT8QnR/ngEVHf9rvKEkqa4lQsraB0/img.png)

ê°ê°ì˜ ì£¼ë¬¸ë³„ë¡œ í• ì¸ê¸ˆì•¡ì´ ì˜ ë“¤ì–´ê°„ ê²ƒì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---
# ë§ˆì¹˜ë©°

ì˜¤ëŠ˜ì€ ì´ë ‡ê²Œ ë¡¬ë³µì˜ í¸ì˜ì„±ê³¼ í• ì¸ì •ì±…ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.

ì´ì œ ë­”ê°€ ì¢€ ë©‹ìˆëŠ” ê¸°ëŠ¥ë“¤ë„ ì“°ëŠ” ê±° ê°™ê³  ë§Œë“œëŠ” ê²°ê³¼ë¬¼ì´ ëŠë‚Œì´ ë‚˜ì§€ ì•Šë‚˜ìš”?

í™˜ìƒì ì¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” ê·¸ë‚ ê¹Œì§€ ë‹¬ë ¤ë´…ì‹œë‹¤!!!!!

ì˜¤ëŠ˜ ì‘ì—…í•œ ë‚´ìš©ì€ ì•„ë˜ ì»¤ë°‹ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


[Use Lombok and add choosing from many beans Â· KIMB0B/blog_spring@8010e55 (github.com)](https://github.com/KIMB0B/blog_spring/commit/8010e55a01f2e2bd02f118d1906ff849ea0f2bf9)

[[13. ë¹ˆì˜ ì¼ëŒ€ê¸°! ìƒëª… ì£¼ê¸° ì½œë°±|ğŸ‘‰ë‹¤ìŒ ê¸€ ë³´ëŸ¬ê°€ê¸°]]